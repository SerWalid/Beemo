<div class="bg-white border shadow-sm rounded-xl py-2">
  <h2 class="text-xl font-semibold text-gray-800 p-4">Daily Report</h2>

  <div id="timeline-container">
    {% for item in beemo_daily_usage_timeline %}
    <!-- Item -->
    <div
      class="flex gap-x-3 timeline-item {% if loop.index > 3 %}hidden{% endif %}"
    >
      <!-- Left Content -->
      <div class="w-16 text-end">
        <span class="text-xs text-gray-500 dark:text-neutral-400"
          >{{ item.time }}</span
        >
      </div>
      <!-- End Left Content -->

      <!-- Icon -->
      <div
        class="relative last:after:hidden after:absolute after:top-7 after:bottom-0 after:start-3.5 after:w-px after:-translate-x-[0.5px] after:bg-gray-200 dark:after:bg-neutral-700"
      >
        <div class="relative z-10 size-7 flex justify-center items-center">
          <div
            class="size-2 rounded-full bg-gray-400 dark:bg-neutral-600"
          ></div>
        </div>
      </div>
      <!-- End Icon -->

      <!-- Right Content -->
      <div class="grow pt-0.5 pb-8">
        <h3 class="flex gap-x-1.5 font-semibold text-gray-800 dark:text-white">
          {{ item.event }}
        </h3>
        <p class="mt-1 text-sm text-gray-600 dark:text-neutral-400">
          {{ item.activity }}
        </p>
        <ul class="list-disc ms-6 mt-3 space-y-1.5">
          <li class="ps-1 text-sm text-gray-600 dark:text-neutral-400">
            {{ child_name }} was {{ item.emotion_detected.lower() }}.
          </li>
          <li class="ps-1 text-sm text-gray-600 dark:text-neutral-400">
            The interaction lasted about {{ item.duration }}.
          </li>
          {% if item.notes %}
          <li class="ps-1 text-sm text-gray-600 dark:text-neutral-400">
            {{ item.notes }}
          </li>
          {% endif %}
        </ul>
      </div>
      <!-- End Right Content -->
    </div>
    <!-- End Item -->
    {% endfor %}
  </div>

  <div id="report-result" class="p-4 text-gray-700"></div>

  <!-- Read More / Read Less Button -->
  <div class="text-center mt-4">
    <button
      id="generate-report-btn"
      class="inline-flex items-center justify-center px-5 py-3 text-base font-medium text-center text-indigo-100 border border-indigo-500 rounded-lg shadow-sm cursor-pointer hover:text-white bg-gradient-to-br from-purple-500 via-indigo-500 to-indigo-500"
      onclick="generateReport()"
    >
      <svg
        class="w-5 h-5 mr-2"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M13 10V3L4 14h7v7l9-11h-7z"
        ></path>
      </svg>
      <span id="button-text" class="relative">Generate Report</span>
    </button>
  </div>
</div>

<script src="./static/js/report.js"></script>
